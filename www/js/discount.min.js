function addPMDDiscount(){for(var e=0,i=0;i<invoice.salesLines.length;i++)("Latex Mattresses"==invoice.salesLines[i].categoryname||"Zippered Latex Mattresses"==invoice.salesLines[i].categoryname)&&invoice.salesLines[i].retailAmount>600&&(e+=69.95*invoice.salesLines[i].quantity)
return e}function add2SideCredDiscount(){for(var e=0,i=0,n=0;n<invoice.salesLines.length;n++){if("2 Sided Classics"==invoice.salesLines[n].brand&&"Georgetown"!=invoice.salesLines[n].model)switch(invoice.salesLines[n].size){case"Twin":e+=25*invoice.salesLines[n].quantity
break
case"TwinXL":e+=30*invoice.salesLines[n].quantity
break
case"Full":e+=35*invoice.salesLines[n].quantity
break
case"Queen":e+=40*invoice.salesLines[n].quantity
break
case"King":case"Cal King":e+=50*invoice.salesLines[n].quantity}"Blankets"==invoice.salesLines[n].categoryname&&(i+=invoice.salesLines[n].retailAmount*invoice.salesLines[n].quantity)}return e>i?i:e}function addBotanicoreBeddingDiscount(){for(var e=0,i=0,n=0;n<invoice.salesLines.length;n++){if("Latex Mattresses"==invoice.salesLines[n].categoryname)switch(invoice.salesLines[n].size){case"Twin":e+=50*invoice.salesLines[n].quantity
break
case"TwinXL":e+=60*invoice.salesLines[n].quantity
break
case"Full":e+=70*invoice.salesLines[n].quantity
break
case"Queen":e+=80*invoice.salesLines[n].quantity
break
case"King":case"Cal King":e+=100*invoice.salesLines[n].quantity}"Blankets"==invoice.salesLines[n].categoryname&&(i+=invoice.salesLines[n].retailAmount*invoice.salesLines[n].quantity)}return e>i?i:e}function add45AdjBaseDiscount(){for(var e=0,i=0,n=0;n<invoice.salesLines.length;n++){if("Latex Mattresses"==invoice.salesLines[n].categoryname)switch(invoice.salesLines[n].size){case"TwinXL":case"Queen":e+=100*invoice.salesLines[n].quantity
break
case"King":e+=200*invoice.salesLines[n].quantity}"Adjustable Beds"==invoice.salesLines[n].categoryname&&"45th Street Bedding"==invoice.salesLines[n].brand&&(i+=invoice.salesLines[n].retailAmount*invoice.salesLines[n].quantity)}return e>i?i:e}function addBeddingBundDiscount(){for(var e=0,i=0;i<invoice.salesLines.length;i++)("Bedding"==invoice.salesLines[i].toplevelcategoryname||"Toppers"==invoice.salesLines[i].toplevelcategoryname&&"Elite 5 Topper"!=invoice.salesLines[i].model&&"Montlake Topper"!=invoice.salesLines[i].model)&&(e+=invoice.salesLines[i].retailAmount*invoice.salesLines[i].quantity*.15)
return e}function addInstockLightingDiscount(){for(var e=0,i=0;i<invoice.salesLines.length;i++)"Lamps"==invoice.salesLines[i].categoryname&&"SO"!=invoice.salesLines[i].location&&(e+=.2*invoice.salesLines[i].retailAmount*invoice.salesLines[i].quantity)
return e}function addInstockSeatingDiscount(){for(var e=0,i=0;i<invoice.salesLines.length;i++)"Seating"==invoice.salesLines[i].toplevelcategoryname&&"SO"!=invoice.salesLines[i].location&&(e+=invoice.salesLines[i].retailAmount*invoice.salesLines[i].quantity*.2)
return e}function getDiscountHTML(e){for(var i="",n=0;n<invoice.discounts.length;n++)switch(invoice.discounts[n].type){case"PMD":("Latex Mattresses"==e.categoryname||"Zippered Latex Mattresses"==e.categoryname)&&e.retailAmount>600&&(i+='<div class="card"><div class="card-content"><div class="card-content-inner">Premium Mattress Discount</div></div></div>')
break
case"instockLighting":"Lamps"==invoice.salesLines[n].categoryname&&"SO"!=invoice.salesLines[n].location&&(i+='<div class="card"><div class="card-content"><div class="card-content-inner">In-Stock Lighting Discount</div></div></div>')
break
case"instockSeating":"Chairs"==invoice.salesLines[n].categoryname&&"SO"!=invoice.salesLines[n].location&&(i+='<div class="card"><div class="card-content"><div class="card-content-inner">In-Stock Seating Discount</div></div></div>')}return i}function getInvoiceDiscountHTML(){for(var e="",i=0;i<invoice.discounts.length;i++)switch(invoice.discounts[i].type){case"2SideCred":for(var n=0,i=0;i<invoice.salesLines.length;i++)if("2 Sided Classics"==invoice.salesLines[i].brand)switch(invoice.salesLines[i].size){case"Twin":n+=25*invoice.salesLines[i].quantity
break
case"TwinXL":n+=30*invoice.salesLines[i].quantity
break
case"Full":n+=35*invoice.salesLines[i].quantity
break
case"Queen":n+=40*invoice.salesLines[i].quantity
break
case"King":case"Cal King":n+=50*invoice.salesLines[i].quantity}n>0&&(e+='<div class="card"><div class="card-content"><div class="card-content-inner">2 Sided Credit - '+formatNumberMoney(n)+"</div></div></div>")
break
case"botanBedBund":for(var n=0,i=0;i<invoice.salesLines.length;i++)if("Latex Mattresses"==invoice.salesLines[i].categoryname)switch(invoice.salesLines[i].size){case"Twin":n+=50*invoice.salesLines[i].quantity
break
case"TwinXL":n+=60*invoice.salesLines[i].quantity
break
case"Full":n+=70*invoice.salesLines[i].quantity
break
case"Queen":n+=80*invoice.salesLines[i].quantity
break
case"King":case"Cal King":n+=100*invoice.salesLines[i].quantity}n>0&&(e+='<div class="card"><div class="card-content"><div class="card-content-inner">Botanicore Bedding Bundle - '+formatNumberMoney(n)+"</div></div></div>")
break
case"45AdjBaseCred":for(var n=0,i=0;i<invoice.salesLines.length;i++)if("Latex Mattresses"==invoice.salesLines[i].categoryname)switch(invoice.salesLines[i].size){case"TwinXL":case"Queen":n+=100*invoice.salesLines[i].quantity
break
case"King":n+=200*invoice.salesLines[i].quantity}n>0&&(e+='<div class="card"><div class="card-content"><div class="card-content-inner">Adjustable Base Discount - '+formatNumberMoney(n)+"</div></div></div>")
break
case"beddingBund":for(var s=0,i=0;i<invoice.salesLines.length;i++)"Bedding"==invoice.salesLines[i].toplevelcategoryname&&(s+=invoice.salesLines[i].retailAmount*invoice.salesLines[i].quantity*.15)
s>0&&(e+='<div class="card"><div class="card-content"><div class="card-content-inner">Bedding Bundle - '+formatNumberMoney(s)+"</div></div></div>")}return e}function discountAmountLine(e){for(var i=0,n=0;n<invoice.discounts.length;n++)switch(invoice.discounts[n].type){case"PMD":("Latex Mattresses"==e.categoryname||"Zippered Latex Mattresses"==e.categoryname)&&e.retailAmount>600&&(i+=69.95*e.quantity)}return i>0?"Discount: "+formatNumberMoney(i):""}Invoice.prototype.calcDiscount=function(e){switch(e.type){case"PMD":return addPMDDiscount()
case"2SideCred":return add2SideCredDiscount()
case"botanBedBund":return addBotanicoreBeddingDiscount()
case"45AdjBaseCred":return add45AdjBaseDiscount()
case"beddingBund":return addBeddingBundDiscount()
case"instockLighting":return addInstockLightingDiscount()
case"instockSeating":return addInstockSeatingDiscount()}}
