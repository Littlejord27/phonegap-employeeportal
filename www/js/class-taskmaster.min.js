function TaskMaster(){function t(t){switch(console.log("Failed - Need to Login"),console.log(t),t.action){case"errorLogin":loginPopup()}}this.host="https://taskmaster.bedroomsandmore.com",this.checkNewMessages=function(t,e,i){this.ajaxToServer({url:"/4DACTION/api",data:{action:"checkNewMessages",conversationId:t,latestMessageId:e},success:function(t){i(t)}})},this.checkUpdate=function(t,e){this.ajaxToServer({url:"/4DACTION/api",data:{action:"checkUpdate",version:t},success:function(t){e(t)}})},this.createConversation=function(t,e,i){this.ajaxToServer({url:"/4DACTION/api",data:{action:"createConversation",users:t,message:e},success:function(t){i(t)}})},this.createInvoice=function(t,e){this.ajaxToServer({url:"/4DACTION/api",method:"POST",data:{action:"createInvoice",invoice:t},success:function(t){e(t)}})},this.deleteQuote=function(t,e){this.ajaxToServer({url:"/4DACTION/api",method:"POST",data:{action:"deleteQuote",quoteId:t},success:function(t){e(t)}})},this.deliverystatus=function(t,e,i,s){this.ajaxToServer({url:"/4DACTION/api",data:{action:"deliverystatus",month:t,year:e,zip:i},success:function(t){s(t)}})},this.deliverystatusyear=function(t,e,i){this.ajaxToServer({url:"/4DACTION/api",data:{action:"deliverystatusyear",year:t,zip:e},success:function(t){i(t)}})},this.emailInvoice=function(t,e,i){this.ajaxToServer({url:"/4DACTION/api",data:{action:"emailInvoice",email:t,invoiceNumber:e},success:function(t){i(t)}})},this.getConversations=function(t){this.ajaxToServer({url:"/4DACTION/api",data:{action:"getConversations"},success:function(e){t(e)}})},this.getCustomers=function(t){this.ajaxToServer({url:"/4DACTION/api",data:{action:"getCustomers"},success:function(e){t(e)}})},this.getEmployees=function(t){this.ajaxToServer({url:"/4DACTION/api",data:{action:"getEmployees"},success:function(e){t(e)}})},this.getinvoice=function(t,e){this.ajaxToServer({url:"/4DACTION/api",data:{action:"getinvoice",invoicenumber:t},success:function(t){e(t)}})},this.getItemInfo=function(t,e){this.ajaxToServer({url:"/4DACTION/api",data:{action:"getItemInfo",sku:t},success:function(t){t.ok&&e({brand:t.item.brand,categoryname:t.item.categoryname,color:t.item.color,customerswaiting:t.item.customerswaiting,customerswaitinglist:t.item.customerswaitinglist,material:t.item.material,model:t.item.model,name:t.item.name,retailAmount:t.item.retailAmount,size:t.item.size,sku:t.item.sku,stock:t.item.stock,vendorsku:t.item.vendorsku,toplevelcategoryname:t.item.toplevelcategoryname,imageurl:""!=t.item.imageurl?t.item.imageurl:"media/products/no-product-pic_icon.png"})}})},this.getMessages=function(t,e){this.ajaxToServer({url:"/4DACTION/api",data:{action:"getMessages",conversationid:t},success:function(t){e(t)}})},this.getNotifications=function(t){this.ajaxToServer({url:"/4DACTION/api",data:{action:"getNotifications"},success:function(e){t(e)}})},this.getQuote=function(t,e){this.ajaxToServer({method:"POST",url:"/4DACTION/api",data:{action:"getQuote",quoteId:t},success:function(t){e(t)}})},this.getQuoteList=function(t,e){if(void 0===e)var i={action:"getQuoteList"}
else var i={action:"getQuoteList",employeeId:e}
this.ajaxToServer({url:"/4DACTION/api",data:i,success:function(e){t(e)}})},this.getVariations=function(t,e){this.ajaxToServer({url:"/4DACTION/api",data:{action:"getVariations",sku:t},success:function(t){e(t)}})},this.listPrinters=function(t){this.ajaxToServer({url:"/4DACTION/api",data:{action:"listPrinters"},success:function(e){t(e)}})},this.listStations=function(t){this.ajaxToServer({url:"/4DACTION/api",data:{action:"listStations"},success:function(e){t(e)}})},this.login=function(t,e,i){this.ajaxToServer({method:"POST",url:"/4DACTION/mobile_auth",data:{password:t,device:{}},success:function(t){t.success?e(t.employee):i(t.success)}})},this.printInvoice=function(t,e,i,s){"quote"==e?this.ajaxToServer({url:"/4DACTION/api",data:{action:"printInvoice",quoteid:t,printer:i},success:function(t){s(t)}}):this.ajaxToServer({url:"/4DACTION/api",data:{action:"printInvoice",invoicenumber:t,printer:i},success:function(t){s(t)}})},this.saveQuote=function(t,e,i){if(void 0===i)var s={action:"saveQuote",invoice:t}
else var s={action:"saveQuote",invoice:t,quoteId:i}
this.ajaxToServer({url:"/4DACTION/api",method:"POST",data:s,success:function(t){e(t)}})},this.searchCustomer=function(t,e){this.ajaxToServer({url:"/4DACTION/api",data:{action:"searchCustomer",q:t},success:function(t){e(t)}})},this.searchInventory=function(t,e){this.ajaxToServer({url:"/4DACTION/api",data:{action:"searchInventory",q:t},success:function(t){e(t)}})},this.searchInvoices=function(t,e,i,s,a){this.ajaxToServer({url:"/4DACTION/api",data:{action:"searchInvoices",customerlastname:t,customerfirstname:e,customerphone:i,invoicenumber:s},success:function(t){a(t)}})},this.sendFeedback=function(t,e,i,s){this.ajaxToServer({url:"/4DACTION/api",method:"POST",data:{action:"sendFeedback",page:t,feedback:e,deviceInfo:i},success:function(t){s(t)}})},this.sendMessage=function(t,e,i){this.ajaxToServer({url:"/4DACTION/api",data:{action:"sendMessage",conversationid:t,message:e},success:function(t){i(t)}})},this.textInvoice=function(t,e,i){this.ajaxToServer({url:"/4DACTION/api",data:{action:"textInvoice",number:t,invoiceNumber:e},success:function(t){i(t)}})},this.timeclock=function(t,e,i){this.ajaxToServer({url:"/4DACTION/api",data:{action:"timeclock",employeeId:t,clockEvent:e},success:function(t){i(t)}})},this.transferInvoice=function(t,e,i){this.ajaxToServer({url:"/4DACTION/api",method:"POST",data:{action:"transferInvoice",station:t,invoice:e},success:function(t){i(t)}})},this.unishippersquote=function(t,e,i){this.ajaxToServer({url:"/4DACTION/api",data:{action:"unishippersquote",zip:t,skus:e},success:function(t){i(t)}})},this.zipdeliverycost=function(t,e,i,s,a){this.ajaxToServer({url:"/4DACTION/api",data:{action:"zipdeliverycost",street:t,city:e,state:i,zip:s},success:function(t){a(t)}})},this.debugPost=function(t,e){this.ajaxToServer({url:"/4DACTION/api",method:"POST",data:{action:"debugPost",invoice:t},success:function(t){e(t)}})},this.ajaxToServer=function(e){var i="",s={},a=function(){},o="GET"
if(e.hasOwnProperty("url")){i=e.url,e.hasOwnProperty("data")&&(s=e.data),e.hasOwnProperty("success")&&(a=e.success),e.hasOwnProperty("method")&&(o=e.method)
var n=this.host
i.indexOf("http")>-1?n=i:n+=i
var c=function(e){e.hasOwnProperty("invalidsession")?(invalidSessionAfterLoginAjaxCall={url:i,data:s,success:a,method:o},t(e)):a(e)}
$$.ajax({url:n,method:o,data:"GET"==o?s:JSON.stringify(s),dataType:"json",success:c})}}}